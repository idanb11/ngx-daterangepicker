<input type="email" class="form-control m-input m-input--square" (focus)='toggleMenu()' *ngIf='!pill' #pickerElement value="{{dateStr}}">
<span class="daterange" (click)="toggleMenu()" *ngIf='pill' #pickerElement>
  <span class="daterange-label">
    <span class="daterange-title">{{title}}</span>
    <span class="daterange-date main-color">&nbsp; {{dateStr}}</span>
  </span>
  <a class="n-btn n-btn-sm n-btn-icon n-btn-icon-only n-btn-pill n-btn-main-color">
    <i class="la la-angle-down"></i>
  </a>
</span>

<div class="daterangepicker dropdown-menu ltr opensleft show-calendar" [ngStyle]="{ 'display': show? 'flex': 'none', 'top': menuTop+'px', 'left': menuLeft+'px', 'right': 'auto' }">
  <lib-calendar [start]="start" [end]="end" [ngStyle]="{'display': showCalendar?'block':'none'}" 
    [triggered]="trigger" (apply)='detected($event)' (cancel)='closeMenu()' #cEl *ngIf="opens==='left'" [ranges]="ranges"></lib-calendar>
  <div class="ranges" *ngIf="ranges">
    <ul>
      <li *ngFor='let range of ranges' [ngClass]="{ 'active': activeItem === range.text }" (click)='selectRange(range); toggleMenu()'>{{range.text}}</li>
      <li (click)='triggerCalendar()' [ngClass]="{ 'active': activeItem === 'Custom Range'}">Custom Range</li>
    </ul>
    <div class="range_inputs">
      <button class="applyBtn n-btn n-btn-sm n-btn-success" type="button" (click)="apply()">Apply</button> 
      <button class="cancelBtn n-btn n-btn-sm n-btn-default" type="button" (click)="toggleMenu()">Cancel</button>
    </div>
  </div>
  <lib-calendar [start]="start" [end]="end" [ngStyle]="{'display': showCalendar?'block':'none'}" 
    [triggered]="trigger" (apply)='detected($event)' (cancel)='closeMenu()' #cEl *ngIf="opens==='right'" [ranges]="ranges"></lib-calendar>
</div> 